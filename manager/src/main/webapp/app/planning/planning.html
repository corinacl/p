<script src="assets/js/custom.js"></script>
<section class="container" style="background-color:white">
    <div role="main" class="main">
        <section class="page-header">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h1>Planning</h1>
                    </div>
                </div>
            </div>
        </section>
    </div>
	<fieldset>
        <div class="col-md-12">
                <div class="panel row" style="background-color:#eee; border-radius: 10px;"> 
                    <div style="padding-top:20px;">
                        <div class="form-group">
                            <div class="col-sm-6 col-md-5 col-sm-offset-1 col-md-offset-2">
	                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="month"> Fecha </label>
	                            <select class="col-md-5 col-sm-5" name="month" ng-model="vm.month" required>
									<option value="01">Enero</option>
									<option value="02">Febrero</option>
									<option value="03">Marzo</option>
									<option value="04">Abril</option>
									<option value="05">Mayo</option>
									<option value="06">Junio</option>
									<option value="07">Julio</option>
									<option value="08">Agosto</option>
									<option value="09">Septiembre</option>
									<option value="10">Octubre</option>    
									<option value="11">Noviembre</option>
									<option value="12">Diciembre</option>                                     
	                            </select>
	                            <select class="col-md-4 col-sm-4" name="year" ng-model="vm.year" required>
	                                <option value="2017">2017</option>
	                                <option value="2018">2018</option>
	                                <option value="2019">2019</option>
	                                <option value="2020">2020</option>
                                    <option value="2021">2021</option>
	                            </select>
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2">
                            <div class="visible-xs" style="margin-top:7px;"> </div>
								<button class="btn btn-warning btn-sm" ng-click="vm.showPlanning()">
								    <span class="glyphicon glyphicon-search"></span> Buscar
								</button> 
							</div>
                        </div>
                    </div>
                    <div class="visible-xs" style="margin:5px;"> Gira el dispositivo para ver mejor el planning.</div>
                    <!-- Panel de resultados sin bÃºsqueda-->
                    <div class="panel panel-primary" ng-init="vm.getBungalows()" style="padding:10px; margin:10px;">
                        <div class="panel-body">
                            <table align="center" id="leyenda" class="hidden-sm hidden-xs">
                                <th style="background-color:red"></th>
                                <th>Ocupado</th>
                                <td></td>
                                <th style="background-color:red; color:black;">|</th>
                                <th style="width:90px">Salida y entrada</th>
                                <td></td>
                                <th style="background-color:green"></th>
                                <th>Libre</th>
                                <td></td>
                                <th style="background-color:#ed9c28"></th>
                                <th>Bungalow</th>
                                <td></td>
                            </table>
                            <table align="center" id="leyenda" class="visible-sm visible-xs">
                                <th style="background-color:red"></th>
                                <th>Ocupado</th>
                                <td></td>
                                <th style="background-color:red; color:black;">|</th>
                                <th>Salida&Entrada</th>
                                <td></td>
                             </table>
                             <table align="center" id="leyenda" class="visible-sm visible-xs">
                                <th style="background-color:green"></th>
                                <th>Libre</th>
                                <td></td>
                                <th style="background-color:#ed9c28"></th>
                                <th>Bungalow</th>
                                <td></td>
                            </table>
                        </div> 
                        <div class="table-responsive">
                        <table align="center" id="planning">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]">{{ i }}</th>
                                </tr>
                            </thead>
                            <tbody ng-repeat="(key, value) in vm.plan">
                                <tr>
                                    <th style="background-color:#ed9c28;">{{key}}</th>                                    
                                    <td style="color:black" ng-repeat="values in value track by $index" ng-style="values === 0 ? {'background-color':'green'} : {'background-color':'red'} ">{{values === 2 ? '|' : ''}}</td>
                                    <td ng-repeat="j in [1,2,3] | limitTo: 31 - value.length">/<td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                    </div>
                </div>
            </div>
        </fieldset>
</section>
